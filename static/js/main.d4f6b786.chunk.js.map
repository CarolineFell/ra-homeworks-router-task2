{"version":3,"sources":["components/Header/Header.jsx","components/PostItem/PostItem.js","components/Loader/Loader.js","components/PostsList/PostsList.js","components/AddForm/AddForm.js","components/CreatePost/CreatePost.js","components/Error404/Error404.js","components/ViewPost/ViewPost.js","App.js","index.js","img/loader.gif"],"names":["Header","props","header","className","defaultProps","PostItem","content","created","children","randomInteger","min","max","rand","Math","random","round","src","faker","image","avatar","alt","href","name","firstName","moment","format","Loader","loader","PostsList","state","posts","loading","setData","setState","getPosts","axios","get","process","then","response","data","this","map","post","key","id","to","React","Component","AddForm","onSubmit","useState","value","setValue","setLoading","useEffect","onChange","event","target","onClick","evt","preventDefault","CreatePost","saved","setSaved","catch","error","console","log","message","Error404","ViewPost","deleted","edited","toggleEditing","prevState","handleDelete","params","match","delete","handleEdit","history","go","Number","find","item","undefined","App","path","component","exact","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d4f6b786.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Header.css\";\n\nexport default function Header(props) {\n  const { header } = props;\n  return (\n    <h1 className=\"header\">{header}</h1>\n  );\n}\n\nHeader.defaultProps = {\n  header: \"Welcome to CRUD post publisher\"\n};\n\nHeader.propTypes = {\n  header: PropTypes.string\n};","import React from 'react';\nimport faker from 'faker';\nimport moment from 'moment';\nimport './PostItem.css';\n\nconst PostItem = ({ content, created, children }) => {\n  function randomInteger(min, max) {\n    let rand = min - 0.5 + Math.random() * (max - min + 1);\n    return Math.round(rand);\n  }\n\n  return (\n    <div className=\"ui centered card\">\n      <div className=\"ui small circular image\">\n        <img src={faker.image.avatar()} alt=\"avatar\" />\n      </div>\n      <div className=\"content\">\n        <a href=\"/#\" className=\"user-name\">\n          <h3>{faker.name.firstName()}</h3>\n        </a>\n        <div className=\"metadata\">\n          <span className=\"post-date\">\n            {moment(created).format(\"DD.MM.YY HH:mm:ss\")}\n          </span>\n        </div>\n        <div className=\"text\">{content}</div>\n        <div className=\"likes-dislikes-favourite\">\n          <div className=\"like\">\n            <i className=\"thumbs up outline grey icon\"></i>\n            <span className=\"number\">{randomInteger(1, 500)}</span>\n          </div>\n          <div className=\"dislike\">\n            <i className=\"thumbs down outline grey icon\"></i>\n            <span className=\"number\">{randomInteger(1, 500)}</span>\n          </div>\n          <i className=\"heart outline grey icon\"></i>\n        </div>\n        <div className=\"edit\">{children}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default PostItem;\n","import React from 'react';\nimport loader from '../../img/loader.gif';\nimport './Loader.css';\n\nconst Loader = () => (\n  <div className=\"loader-bar\">\n    <img src={loader} className=\"loader\" alt=\"loading...\" />\n  </div>\n);\n\nexport default Loader;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport PostItem from '../PostItem/PostItem';\nimport Loader from '../Loader/Loader';\n\nclass PostsList extends React.Component {\n  state = {\n    posts: [],\n    loading: true,\n  };\n\n  componentDidMount() {\n    this.getPosts();\n  }\n\n  setData = (posts) => {\n    this.setState({ posts, loading: false });\n  };\n\n  getPosts = () => {\n    axios\n      .get(`${process.env.REACT_APP_POSTS_URL}/posts`)\n      .then((response) => this.setData(response.data));\n  };\n\n  render() {\n    const { posts, loading } = this.state;\n\n    if (loading) {\n      return <Loader />;\n    }\n\n    return (\n      <div className=\"ui comments\">\n        {posts.map((post) => (\n          <PostItem key={post.id} {...post}>\n            <Link to={`/posts/${post.id}`} className=\"edit-post\">\n              <i className=\"ellipsis vertical grey icon\"></i>\n            </Link>\n          </PostItem>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default PostsList;","import React, { useState, useEffect } from 'react';\nimport Loader from '../Loader/Loader';\nimport './AddForm.css';\n\nconst AddForm = ({ content, onSubmit, children }) => {\n  const [value, setValue] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (content) {\n      setValue(content);\n    }\n  }, [content]);\n\n  const handleSubmit = (event) => {\n    setLoading(true);\n    event.preventDefault();\n    onSubmit(value);\n  };\n\n  const handleChange = (event) => {\n    const { value } = event.target;\n    setValue(value);\n  };\n\n  const handleClear = (event) => {\n    setValue('');\n  };\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <form className=\"ui form\">\n      <div className=\"field\">\n        <textarea onChange={handleChange} value={value}></textarea>\n      </div>\n      <div className=\"buttons\">\n        <div className=\"ui submit button publish\" onClick={(evt) => handleSubmit(evt)}>Publish</div>\n        <div className=\"ui button clear\" onClick={(evt) => handleClear(evt)}>Clear</div>\n        {children}\n      </div>\n    </form>\n  );\n};\n\nexport default AddForm;","import React, { useState } from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport AddForm from \"../AddForm/AddForm\";\n\nconst CreatePost = () => {\n  const [saved, setSaved] = useState(false);\n\n  const handleSubmit = (value) => {\n    axios\n      .post(`${process.env.REACT_APP_POSTS_URL}/posts`, {\n        id: 0,\n        content: value,\n      })\n      .then(() => setSaved(true))\n      .catch((error) => {\n        console.log(error.message);\n      });\n  };\n\n  if (saved) {\n    return <Redirect to='/' />;\n  }\n\n  return <AddForm onSubmit={handleSubmit} />;\n};\n\nexport default CreatePost;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Error404 = () => (\n  <div className=\"ui icon message\">\n    <div className=\"content content-error\">\n      <div className=\"header header-error\">Error 404</div>\n      <p>This page does not exist</p>\n      <Link to={`/`} className=\"back\">\n        <i className=\"arrow alternate circle left outline grey icon\"></i> Go back to main page \n      </Link>\n    </div>\n  </div>\n);\n\nexport default Error404;","import React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router-dom';\nimport PostItem from '../PostItem/PostItem';\nimport AddForm from '../AddForm/AddForm';\nimport Error404 from '../Error404/Error404';\nimport Loader from '../Loader/Loader';\nimport './ViewPost.css';\n\nclass ViewPost extends React.Component {\n  state = {\n    post: null,\n    deleted: false,\n    edited: false,\n    loading: true,\n  };\n\n  componentDidMount() {\n    const { match: { params } } = this.props;\n    const id = Number(params.id);\n    axios.get(`${process.env.REACT_APP_POSTS_URL}/posts`).then((response) => {\n      const post = response.data.find((item) => item.id === id);\n      this.setState({ post, loading: false });\n    });\n  }\n\n  toggleEditing = () => {\n    this.setState((prevState) => ({\n      edited: !prevState.edited,\n    }));\n  };\n\n  handleDelete = () => {\n    this.setState({ loading: true });\n    const { match: { params } } = this.props;\n\n    axios\n      .delete(`${process.env.REACT_APP_POSTS_URL}/posts/${params.id}`)\n      .then(() => this.setState({ deleted: true }))\n      .catch((error) => {\n        console.log(error.message);\n      });\n  };\n\n  handleEdit = (value) => {\n    axios\n      .post(`${process.env.REACT_APP_POSTS_URL}/posts`, {\n        id: this.state.post.id,\n        content: value,\n      })\n      .then(() => this.props.history.go(0))\n      .catch((error) => {\n        console.log(error.message);\n      });\n  };\n\n  render() {\n    const { post, deleted, edited, loading } = this.state;\n\n    if (deleted) {\n      return <Redirect to=\"/\" />;\n    }\n\n    if (edited) {\n      return (\n        <AddForm content={post.content} onSubmit={this.handleEdit}>\n          <div className=\"ui button\" onClick={() => this.toggleEditing()}>Cancel</div>\n        </AddForm>\n      );\n    }\n\n    if (post === undefined) {\n      return <Error404 />;\n    }\n\n    if (loading) {\n      return <Loader />;\n    }\n\n    return (\n      <div className=\"ui comments\">\n        <PostItem {...post}>\n          <Link to={`/`} className=\"back\">\n            <i className=\"arrow alternate circle left outline grey icon\"></i>\n          </Link>\n            <i className=\"edit outline grey icon\" onClick={this.toggleEditing}></i>\n            <i className=\"delete grey icon\" onClick={this.handleDelete}></i>\n        </PostItem>\n      </div>\n    );\n  }\n}\n\nexport default ViewPost;","import React from 'react';\nimport { BrowserRouter as Router, Link, Route, Switch } from 'react-router-dom';\nimport Header from './components/Header/Header';\nimport PostsList from './components/PostsList/PostsList';\nimport CreatePost from './components/CreatePost/CreatePost';\nimport ViewPost from './components/ViewPost/ViewPost';\nimport './App.css';\n\nclass App extends React.Component {\n  render() {\n    return (\n    <div className=\"App\">\n        <Header />\n        <div className=\"ui text container segment\">\n          <Router>\n            <div className=\"ui basic segment\">\n              <div className=\"ui center aligned segment\">\n                <Link to=\"/\" className=\"ui icon button\">\n                  <i className=\"home blue icon\"></i>\n                </Link>\n                <Link to=\"/posts/new\" className=\"ui positive button\">Create post</Link>\n              </div>\n            </div>\n            <div className=\"ui basic segment\">\n              <Switch>\n                <Route path=\"/posts/new\" component={CreatePost} />\n                <Route path=\"/posts/:id\" component={ViewPost} />\n                <Route path=\"/\" exact component={PostsList} />\n              </Switch>\n            </div>\n          </Router>\n        </div>\n    </div>);\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));","module.exports = __webpack_public_path__ + \"static/media/loader.fabe1c14.gif\";"],"sourceRoot":""}